# Quick script to convert 5x3 fixed width font into binary file.
# (c) 2025 Honza Sk√Ωpala
# WTFPL license applies
# Code inspired by 5x8 font converter by Tony DiCola, https://github.com/adafruit/micropython-adafruit-bitmap-font/blob/master/font_to_bin.py

FONT = bytes((
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0x1F, 0x1F, 0x1F,
    0b00000000, 0b00000000, 0b00000000, #32 SPACE
    0b00000000, 0b00010111, 0b00000000, #33 !
    0b00000011, 0b00000000, 0b00000011, #34 "
    0b00011111, 0b00001010, 0b00011111, #35 #
    0b00010110, 0b00011111, 0b00011010, #36 $
    0b00001001, 0b00000100, 0b00010010, #37 %
    0b00011011, 0b00010101, 0b00011100, #38 &
    0b00000000, 0b00000011, 0b00000000, #39 '
    0b00000000, 0b00001110, 0b00010001, #40 (
    0b00010001, 0b00001110, 0b00000000, #41 )
    0b00001010, 0b00000100, 0b00001010, #42 *
    0b00000100, 0b00001110, 0b00000100, #43 +
    0b00010000, 0b00011000, 0b00000000, #44 ,
    0b00000100, 0b00000100, 0b00000100, #45 - shorten to 2 pixels for proportional
    0b00000000, 0b00010000, 0b00000000, #46 .
    0b00010000, 0b00001100, 0b00000011, #47 / 
    0b00011110, 0b00010001, 0b00001111, #48 0
    0b00010010, 0b00011111, 0b00010000, #49 1
    0b00011001, 0b00010101, 0b00010010, #50 2
    0b00010001, 0b00010101, 0b00001010, #51 3
    0b00001100, 0b00001010, 0b00011111, #52 4
    0b00010111, 0b00010101, 0b00001001, #53 5
    0b00011110, 0b00010101, 0b00001101, #54 6
    0b00010001, 0b00001101, 0b00000011, #55 7
    0b00011010, 0b00010101, 0b00011011, #56 8
    0b00000110, 0b00000101, 0b00011111, #57 9
    0b00000000, 0b00001010, 0b00000000, #58 :
    0b00010000, 0b00011010, 0b00000000, #59 ;
    0b00000100, 0b00001010, 0b00000000, #60 <
    0b00001010, 0b00001010, 0b00001010, #61 = shorten to 2 pixels for proportional
    0b00001010, 0b00000100, 0b00000000, #62 >
    0b00000001, 0b00010101, 0b00000010, #63 ?
    0b00001110, 0b00010001, 0b00010111, #64 @
    0b00011110, 0b00000101, 0b00011110, #65 A
    0b00011111, 0b00010101, 0b00001010, #66 B
    0b00001110, 0b00010001, 0b00010001, #67 C
    0b00011111, 0b00010001, 0b00001110, #68 D
    0b00011111, 0b00010101, 0b00010001, #69 E
    0b00011111, 0b00000101, 0b00000001, #70 F
    0b00001110, 0b00010001, 0b00011101, #71 G
    0b00011111, 0b00000100, 0b00011111, #72 H
    0b00010001, 0b00011111, 0b00010001, #73 I
    0b00001000, 0b00010001, 0b00011111, #74 J
    0b00011111, 0b00000110, 0b00011001, #75 K
    0b00011111, 0b00010000, 0b00010000, #76 L
    0b00011111, 0b00000011, 0b00011111, #77 M
    0b00011111, 0b00000001, 0b00011110, #78 N
    0b00011111, 0b00010001, 0b00011111, #79 O
    0b00011111, 0b00000101, 0b00000010, #80 P
    0b00001111, 0b00001001, 0b00011111, #81 Q
    0b00011111, 0b00000101, 0b00011010, #82 R
    0b00010010, 0b00001010, 0b00001001, #83 S
    0b00000001, 0b00011111, 0b00000001, #84 T
    0b00001111, 0b00010000, 0b00011111, #85 U
    0b00001111, 0b00011000, 0b00001111, #86 V
    0b00011111, 0b00001000, 0b00011111, #87 W
    0b00011011, 0b00000100, 0b00011011, #88 X
    0b00000111, 0b00011100, 0b00000111, #89 Y
    0b00011001, 0b00010101, 0b00010011, #90 Z
    0b00000000, 0b00011111, 0b00010001, #91 [
    0b00000001, 0b00000110, 0b00011000, #92 \
    0b00010001, 0b00011111, 0b00000000, #93 ]
    0b00000010, 0b00000001, 0b00000010, #94 ^
    0b00010000, 0b00010000, 0b00010000, #95 _
    0b00000001, 0b00000010, 0b00000000, #96 `
    0b00001010, 0b00011010, 0b00011100, #97 a
    0b00011111, 0b00010010, 0b00001100, #98 b
    0b00001100, 0b00010010, 0b00010010, #99 c
    0b00001100, 0b00010010, 0b00011111, #100 d
    0b00001100, 0b00010110, 0b00010110, #101 e
    0b00000100, 0b00011111, 0b00000101, #102 f
    0b00010100, 0b00010110, 0b00001110, #103 g
    0b00011111, 0b00000100, 0b00011000, #104 h
    0b00000000, 0b00011101, 0b00000000, #105 i
    0b00010000, 0b00011101, 0b00000000, #106 j
    0b00011111, 0b00001000, 0b00010100, #107 k
    0b00000000, 0b00001111, 0b00010000, #108 l
    0b00011110, 0b00000110, 0b00011110, #109 m
    0b00011110, 0b00000010, 0b00011100, #110 n
    0b00011110, 0b00010010, 0b00011110, #111 o
    0b00011110, 0b00001010, 0b00000100, #112 p
    0b00000100, 0b00001010, 0b00011110, #113 q
    0b00011100, 0b00000010, 0b00000010, #114 r
    0b00010100, 0b00011010, 0b00001010, #115 s
    0b00000010, 0b00001111, 0b00010010, #116 t
    0b00001110, 0b00010000, 0b00011110, #117 u
    0b00001110, 0b00011000, 0b00001110, #118 v
    0b00011110, 0b00011000, 0b00011110, #119 w
    0b00010010, 0b00001100, 0b00010010, #120 x
    0b00000110, 0b00010100, 0b00001110, #121 y
    0b00011010, 0b00010110, 0b00010010, #122 z
    0b00000100, 0b00011011, 0b00010001, #123 {
    0b00000000, 0b00011111, 0b00000000, #124 |
    0b00010001, 0b00011011, 0b00000100, #125 }
    0b00000000, 0b00001100, 0b00000110, #126 ~
    0b00011111, 0b00011011, 0b00011111, #127 DEL
))

def print_glyph(char_index, font=FONT, width=3, height=5):
    offset = char_index * width
    columns = font[offset:offset + width]
    for row in range(height):
        line = ''
        for col in columns:
            bit = (col >> row) & 1
            line += 'X' if bit else ' '
        print(line)

import os

if __name__ == '__main__':
    with open(f"{os.path.splitext(os.path.basename(__file__))[0]}.bin", 'wb') as outfile:
        # Write a byte each for the character width, character height.
        outfile.write(bytes((3, 5)))
        # Now write all of the font character bytes.
        for font_byte in FONT:
            outfile.write(font_byte.to_bytes(1, 'big'))
